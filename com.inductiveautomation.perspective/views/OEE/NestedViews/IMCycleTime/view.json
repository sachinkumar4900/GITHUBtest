{
  "custom": {
    "AssemblyShiftTimes": [
      {
        "EndTime": 1749729600000,
        "StartTime": 1749700800000
      }
    ],
    "DriveAvg": 104.33,
    "DriveMax": 1937.47,
    "DriveMin": 33.77,
    "EndDate": {
      "$": [
        "ts",
        192,
        1749710879567
      ],
      "$ts": 1749690000000
    },
    "Equipment": "SB03",
    "MoldingAvg": 111.31,
    "MoldingMax": 160,
    "MoldingMin": 95,
    "MoldingShiftTimes": [
      {
        "EndTime": 1749729600000,
        "StartTime": 1749700800000
      }
    ],
    "StartDate": "2025-6-12 00:00:00",
    "offset": -5,
    "tagpath": "[default]Sanford/Molding/SB03 Cycle Times/SB03"
  },
  "params": {
    "ProductionLineID": 3,
    "StartDate": "2025-6-12 00:00:00"
  },
  "propConfig": {
    "custom.EndDate": {
      "binding": {
        "config": {
          "expression": "addHours({view.params.StartDate},1)"
        },
        "type": "expr"
      },
      "persistent": true
    },
    "custom.Equipment": {
      "binding": {
        "config": {
          "path": "view.params.ProductionLineID"
        },
        "transforms": [
          {
            "fallback": null,
            "inputType": "scalar",
            "mappings": [
              {
                "input": 1,
                "output": "SB01"
              },
              {
                "input": 2,
                "output": "SB02"
              },
              {
                "input": 3,
                "output": "SB03"
              },
              {
                "input": 4,
                "output": "SB04"
              },
              {
                "input": 5,
                "output": "IM45"
              },
              {
                "input": 7,
                "output": "IM48"
              },
              {
                "input": 8,
                "output": "IM54"
              },
              {
                "input": 9,
                "output": "IM54"
              },
              {
                "input": 10,
                "output": "IM43"
              }
            ],
            "outputType": "scalar",
            "type": "map"
          }
        ],
        "type": "property"
      },
      "persistent": true
    },
    "custom.MoldingAvg": {
      "binding": {
        "config": {
          "expression": "now()"
        },
        "transforms": [
          {
            "code": "    #import system  # Ensure system functions are available\n\n    # Define tag path and time range\n    tagPath \u003d \"[default]\"+self.session.custom.ProductionSite+\"/Molding/\"+self.custom.Equipment+\" Cycle Times/\"+ self.custom.Equipment # Ensure this is correct\n    startTime \u003d self.custom.StartDate\n    endTime \u003d  self.custom.EndDate\n\n    # Query historical data\n    dataSet \u003d system.tag.queryTagHistory(\n        paths\u003d[tagPath], \n        startDate\u003dstartTime, \n        endDate\u003dendTime, \n        aggregationMode\u003d\"Average\", \n        returnSize\u003d1\n    )\n\n    # Extract the average value\n    if dataSet.getRowCount() \u003e 0:\n        avgCycleTime \u003d dataSet.getValueAt(0, 1)  # Column index 1 is typically the value column\n        return round(float(avgCycleTime),2)  # Ensure you return this value\n    else:\n        return 0  # Return a default value if no data is available",
            "type": "script"
          }
        ],
        "type": "expr"
      },
      "persistent": true
    },
    "custom.MoldingMax": {
      "binding": {
        "config": {
          "expression": "now()"
        },
        "transforms": [
          {
            "code": "    #import system  # Ensure system functions are available\n\n    # Define tag path and time range\n    tagPath \u003d \"[default]\"+self.session.custom.ProductionSite+\"/Molding/\"+self.custom.Equipment+\" Cycle Times/\"+ self.custom.Equipment # Ensure this is correct\n    startTime \u003d self.custom.StartDate\n    endTime \u003d  self.custom.EndDate\n\n    # Query historical data\n    dataSet \u003d system.tag.queryTagHistory(\n        paths\u003d[tagPath], \n        startDate\u003dstartTime, \n        endDate\u003dendTime, \n        aggregationMode\u003d\"Maximum\", \n        returnSize\u003d1\n    )\n\n    # Extract the average value\n    if dataSet.getRowCount() \u003e 0:\n        avgCycleTime \u003d dataSet.getValueAt(0, 1)  # Column index 1 is typically the value column\n        return round(float(avgCycleTime),2)  # Ensure you return this value\n    else:\n        return 0  # Return a default value if no data is available",
            "type": "script"
          }
        ],
        "type": "expr"
      },
      "persistent": true
    },
    "custom.MoldingMin": {
      "binding": {
        "config": {
          "expression": "now()"
        },
        "transforms": [
          {
            "code": "    #import system  # Ensure system functions are available\n\n    # Define tag path and time range\n    tagPath \u003d \"[default]\"+self.session.custom.ProductionSite+\"/Molding/\"+self.custom.Equipment+\" Cycle Times/\"+ self.custom.Equipment # Ensure this is correct\n    startTime \u003d self.custom.StartDate\n    endTime \u003d  self.custom.EndDate\n\n    # Query historical data\n    dataSet \u003d system.tag.queryTagHistory(\n        paths\u003d[tagPath], \n        startDate\u003dstartTime, \n        endDate\u003dendTime, \n        aggregationMode\u003d\"Minimum\", \n        returnSize\u003d1\n    )\n\n    # Extract the average value\n    if dataSet.getRowCount() \u003e 0:\n        avgCycleTime \u003d dataSet.getValueAt(0, 1)  # Column index 1 is typically the value column\n        return round(float(avgCycleTime),2)  # Ensure you return this value\n    else:\n        return 0  # Return a default value if no data is available",
            "type": "script"
          }
        ],
        "type": "expr"
      },
      "persistent": true
    },
    "custom.MoldingShiftTimes": {
      "binding": {
        "config": {
          "parameters": {
            "siteID": "{session.custom.ProductionSiteID}",
            "vsType": "\u0027Molding\u0027"
          },
          "queryPath": "Overview/GetValueStreamShiftTimes",
          "returnFormat": "json"
        },
        "type": "query"
      },
      "persistent": true
    },
    "custom.StartDate": {
      "binding": {
        "config": {
          "expression": "{view.params.StartDate}"
        },
        "type": "expr"
      },
      "persistent": true
    },
    "custom.offset": {
      "binding": {
        "config": {
          "path": "session.custom.ProductionSiteID"
        },
        "transforms": [
          {
            "fallback": null,
            "inputType": "scalar",
            "mappings": [
              {
                "input": 1,
                "output": -5
              },
              {
                "input": 2,
                "output": null
              }
            ],
            "outputType": "scalar",
            "type": "map"
          }
        ],
        "type": "property"
      },
      "persistent": true
    },
    "custom.tagpath": {
      "binding": {
        "config": {
          "expression": "\"[default]\"+ {session.custom.ProductionSite} + \"/Molding/\" + {view.custom.Equipment}+\" Cycle Times/\"+ {view.custom.Equipment}"
        },
        "type": "expr"
      },
      "persistent": true
    },
    "params.ProductionLineID": {
      "paramDirection": "input",
      "persistent": true
    },
    "params.StartDate": {
      "paramDirection": "input",
      "persistent": true
    }
  },
  "props": {
    "defaultSize": {
      "height": 260,
      "width": 450
    }
  },
  "root": {
    "children": [
      {
        "children": [
          {
            "meta": {
              "name": "CycleTime"
            },
            "position": {
              "basis": "100px",
              "grow": 1
            },
            "propConfig": {
              "props.text": {
                "binding": {
                  "config": {
                    "expression": "{view.custom.Equipment} "
                  },
                  "type": "expr"
                }
              }
            },
            "props": {
              "style": {
                "borderStyle": "none",
                "textAlign": "center"
              }
            },
            "type": "ia.display.label"
          }
        ],
        "meta": {
          "name": "FlexContainer"
        },
        "position": {
          "height": 0.1231,
          "width": 0.999
        },
        "props": {
          "style": {
            "borderStyle": "double",
            "overflow": "visible"
          }
        },
        "type": "ia.container.flex"
      },
      {
        "children": [
          {
            "meta": {
              "name": "Label"
            },
            "position": {
              "basis": "35px",
              "grow": 1
            },
            "props": {
              "style": {
                "borderStyle": "solid",
                "textAlign": "center"
              },
              "text": "Machine"
            },
            "type": "ia.display.label"
          },
          {
            "meta": {
              "name": "Label_2"
            },
            "position": {
              "basis": "35px",
              "grow": 1
            },
            "props": {
              "style": {
                "borderStyle": "solid",
                "textAlign": "center"
              },
              "text": "Current"
            },
            "type": "ia.display.label"
          },
          {
            "meta": {
              "name": "Label_0"
            },
            "position": {
              "basis": "35px",
              "grow": 1
            },
            "props": {
              "style": {
                "borderStyle": "solid",
                "textAlign": "center"
              },
              "text": "Maximum"
            },
            "type": "ia.display.label"
          },
          {
            "meta": {
              "name": "Label_1"
            },
            "position": {
              "basis": "35px",
              "grow": 1
            },
            "props": {
              "style": {
                "borderStyle": "solid",
                "textAlign": "center"
              },
              "text": "Minimum"
            },
            "type": "ia.display.label"
          },
          {
            "meta": {
              "name": "Label_3"
            },
            "position": {
              "basis": "35px",
              "grow": 1
            },
            "props": {
              "style": {
                "borderStyle": "solid",
                "textAlign": "center"
              },
              "text": "Average"
            },
            "type": "ia.display.label"
          }
        ],
        "meta": {
          "name": "FlexContainer_0"
        },
        "position": {
          "height": 0.75,
          "rotate": {
            "anchor": "75% -70%"
          },
          "width": 0.4,
          "y": 0.24
        },
        "props": {
          "direction": "column",
          "style": {
            "borderStyle": "double",
            "overflow": "visible"
          }
        },
        "type": "ia.container.flex"
      },
      {
        "children": [
          {
            "meta": {
              "name": "Label"
            },
            "position": {
              "basis": "35px",
              "grow": 1
            },
            "props": {
              "style": {
                "borderStyle": "solid",
                "textAlign": "center"
              },
              "text": "Cycle Time (Sec)"
            },
            "type": "ia.display.label"
          },
          {
            "meta": {
              "name": "Label_2"
            },
            "position": {
              "basis": "35px",
              "grow": 1
            },
            "propConfig": {
              "props.text": {
                "binding": {
                  "config": {
                    "fallbackDelay": 2.5,
                    "mode": "indirect",
                    "references": {
                      "Equipment": "{view.custom.Equipment}",
                      "ProductionSite": "{session.custom.ProductionSite}"
                    },
                    "tagPath": "[default]{ProductionSite}/Molding/{Equipment} Cycle Times/{Equipment}"
                  },
                  "type": "tag"
                }
              }
            },
            "props": {
              "style": {
                "borderStyle": "solid",
                "textAlign": "center"
              }
            },
            "type": "ia.display.label"
          },
          {
            "meta": {
              "name": "Label_0"
            },
            "position": {
              "basis": "35px",
              "grow": 1
            },
            "propConfig": {
              "props.text": {
                "binding": {
                  "config": {
                    "path": "view.custom.MoldingMax"
                  },
                  "type": "property"
                }
              }
            },
            "props": {
              "style": {
                "backgroundColor": "#D5D5D5",
                "borderStyle": "solid",
                "textAlign": "center"
              }
            },
            "type": "ia.display.label"
          },
          {
            "meta": {
              "name": "Label_1"
            },
            "position": {
              "basis": "35px",
              "grow": 1
            },
            "propConfig": {
              "props.text": {
                "binding": {
                  "config": {
                    "path": "view.custom.MoldingMin"
                  },
                  "type": "property"
                }
              }
            },
            "props": {
              "style": {
                "borderStyle": "solid",
                "textAlign": "center"
              }
            },
            "type": "ia.display.label"
          },
          {
            "meta": {
              "name": "Label_3"
            },
            "position": {
              "basis": "35px",
              "grow": 1
            },
            "propConfig": {
              "props.text": {
                "binding": {
                  "config": {
                    "path": "view.custom.MoldingAvg"
                  },
                  "type": "property"
                }
              }
            },
            "props": {
              "style": {
                "borderStyle": "solid",
                "textAlign": "center"
              }
            },
            "type": "ia.display.label"
          }
        ],
        "events": {
          "dom": {
            "onClick": {
              "config": {
                "draggable": true,
                "id": "YvhqvxFT",
                "modal": false,
                "overlayDismiss": false,
                "resizable": true,
                "showCloseIcon": true,
                "type": "open",
                "viewParams": {
                  "EndTime": "{view.custom.EndDate}",
                  "Equipment": "{view.custom.Equipment}",
                  "StartDate": "{view.custom.StartDate}",
                  "TagPath": "{view.custom.tagpath}"
                },
                "viewPath": "OEE/NestedViews/MachineCycleTime",
                "viewportBound": false
              },
              "scope": "C",
              "type": "popup"
            }
          }
        },
        "meta": {
          "name": "FlexContainer_5"
        },
        "position": {
          "height": 0.75,
          "rotate": {
            "anchor": "75% -70%"
          },
          "width": 0.5967,
          "x": 0.4022,
          "y": 0.2397
        },
        "props": {
          "direction": "column",
          "style": {
            "borderStyle": "double",
            "overflow": "visible"
          }
        },
        "type": "ia.container.flex"
      },
      {
        "meta": {
          "name": "CycleTime_0"
        },
        "position": {
          "height": 0.1231,
          "width": 0.1433,
          "x": 0.0067,
          "y": 0.1192
        },
        "props": {
          "style": {
            "borderStyle": "none",
            "textAlign": "right"
          },
          "text": "From"
        },
        "type": "ia.display.label"
      },
      {
        "meta": {
          "name": "CycleTime_1"
        },
        "position": {
          "height": 0.1231,
          "rotate": {
            "anchor": "192% 131%"
          },
          "width": 0.3444,
          "x": 0.6431,
          "y": 0.1192
        },
        "propConfig": {
          "props.text": {
            "binding": {
              "config": {
                "path": "view.custom.EndDate"
              },
              "transforms": [
                {
                  "formatType": "datetime",
                  "formatValue": {
                    "date": "short",
                    "time": "short"
                  },
                  "type": "format"
                }
              ],
              "type": "property"
            }
          }
        },
        "props": {
          "style": {
            "borderStyle": "none",
            "textAlign": "center"
          }
        },
        "type": "ia.display.label"
      },
      {
        "meta": {
          "name": "CycleTime_2"
        },
        "position": {
          "height": 0.1231,
          "width": 0.06,
          "x": 0.5786,
          "y": 0.1143
        },
        "props": {
          "style": {
            "borderStyle": "none",
            "textAlign": "right"
          },
          "text": "To"
        },
        "type": "ia.display.label"
      },
      {
        "meta": {
          "name": "CycleTime_3"
        },
        "position": {
          "height": 0.1231,
          "rotate": {
            "anchor": "184% 138%"
          },
          "width": 0.41,
          "x": 0.1485,
          "y": 0.1178
        },
        "propConfig": {
          "props.text": {
            "binding": {
              "config": {
                "path": "view.custom.StartDate"
              },
              "transforms": [
                {
                  "formatType": "datetime",
                  "formatValue": {
                    "date": "short",
                    "time": "short"
                  },
                  "type": "format"
                }
              ],
              "type": "property"
            }
          }
        },
        "props": {
          "style": {
            "borderStyle": "none",
            "textAlign": "center"
          }
        },
        "type": "ia.display.label"
      }
    ],
    "meta": {
      "name": "root"
    },
    "position": {
      "x": 0,
      "y": 0
    },
    "props": {
      "mode": "percent"
    },
    "type": "ia.container.coord"
  }
}